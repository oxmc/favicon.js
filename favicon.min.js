function testImage(e){return new Promise((function(o,n){var t,c=new Image;c.onerror=c.onabort=function(){clearTimeout(t),n("error")},c.onload=function(){clearTimeout(t),o("success")},t=setTimeout((function(){c.src="//!!!!/test.jpg",n("timeout")}),5e3),c.src=e}))}async function favicon(e){var o=document.querySelector("link[rel~='icon']");o||((o=document.createElement("link")).rel="shortcut icon",o.type="image/gif",document.getElementsByTagName("head")[0].appendChild(o)),testImage(e).then((function(n){"success"==n?(o.href=e,o.href==e?console.log(`Image: ${e}, Set successfully!`):console.log(`Image: ${e}, Was not set!`)):"timeout"==n&&console.log(`Image: ${e}, timedout, favicon was not set!`)}),(function(o){console.log(`Image: ${e}, is an invalid image, favicon was not set!`)}))}
